
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="static/mnn.css"> -->
    <title>AI Email Classifier</title>
  </head>
  <body>
    <nav style = 'height:70px' class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a style = 'font-size: 30px' class="navbar-brand" href="#">AI Email Classifier</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About Us</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Others
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Computer Vision Models</a>
                <a class="dropdown-item" href="#">Deep Learning Models</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">See more</a>
              </div>
            </li>
            
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Contact Us</button>
          </form>
        </div>
      </nav>
      
      
      
      <nav>
      <!-- To-Do List:
      2. Accuracy Display or not
      6. Any cosmetic changes -->
<!-- 
<div style = 'display:none;' id = 'msg' class="alert alert-primary" role="alert">
  A simple primary alertâ€”check it out!
</div> -->
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <button style = 'text-align:center;font-size:22px;'class="nav-item nav-link active col-md-6 font-weight-normal" id="nav-home-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-home" aria-selected="true">PREDICT / CATEGORIZE</button>
         <button style = 'text-align:center;font-size:22px;'class="nav-item nav-link col-md-6" id="nav-contact-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-contact" aria-selected="false">TRAIN MODEL</button>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <br><br>
        <div class="tab-pane fade" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

          <div class="container">
            <div class="row">
                <div class="card col-md-4" style="width: 28rem;">
                    <img src="static/download.png" class="card-img-top" alt="...">
                    <div class="card-body">
                        <form enctype="multipart/form-data"  action="/sub" onsubmit="return res()" method="POST">

                          <div class="form-group">
                              <label for="exampleFormControlFile1">Upload training data here</label>
                              <input type="file" accept=".zip,.rar,.7zip" class="form-control-file" name="fi" id="fi" multiple>
                            </div>
                          
                        </div>
                       
                  </div>
              <div style = 'position:relative;'class="container col">
                <div class="row">
                <div class="col">
                    <label for="inputPassword5">Model Name</label>
                            <input type="text" id="title" class="form-control" onchange="chec()" aria-describedby="passwordHelpBlock">
                            <small id="err"  style="display: none;color:crimson">
                              *Model name must be unique
                            </small>
                          </div>        
                        </div>
                        <div class="row">
                          
                            <div class="col">
                              <label>Training Time</label>
                                <select class="form-control" id="ti" onchange="start()">
                                    <option value = '1'>Short Time</option>
                                    <option value = '2'>Moderate Time</option>
                                </select>
                              </div>
                              <div class="col">
                                <label>Algorithms</label>
                                <select class="form-control" id="algo" onchange="changealgo()">
                                </select>
                            </div>
                          </div>
                          <br><br>
                          <div class="container col-md-12">
                            <h2>Advance Configuration</h2>
                            <p>It includes options for hyperparameter tuning and other alterable parameters. (optional)</p>
                            <button type="button" class="btn btn-dark" data-toggle="collapse" data-target="#demo">Configure</button>
                            <div  id="demo" class="collapse">
                              
                            </div>
                          </div>
                        <br><br><br><br>
                        <input type="text" id="rs" name = "rs" value="" style="display: none;">
                        <input type="text" id="s" name = "s" value="{{s}}" style="display: none;">
                        
                        <button type="submit" id = 'train'style = 'position:absolute; bottom:40px;'  class="btn btn-dark float-right" >Start Training</button>
                       </form>    
                      </div>
                    
                    </div>
              </div>
            </div>
        <div class="tab-pane fade show active" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
          <div class="container">
            <div class="row">
              
                <div class="card col-md-4" style="width: 28rem;">
                  <img src="static/download.png" class="card-img-top" alt="...">
                  <div class="card-body">
                    <form enctype="multipart/form-data"  action="/preee" onsubmit="return preee()" method="POST">
                      <div class="form-group">
                              <label for="exampleFormControlFile1">Upload test data here</label>
                              <input type="file" accept=".zip,.rar,.7zip" class="form-control-file" name="fi2" id="fi2">
                            </div>
                          
                        </div>
                      </div>
                      <div class = 'col '>
                  <label for="inputPassword5">Subject</label>
                  <input type="text" id="subject" name = "subject" value = "{{subject}}" class="form-control" aria-describedby="passwordHelpBlock">
                  <!-- <small>Enter Mail Subject.</small> -->
                  <br><label for="inputPassword5">Type your mail here</label>
                  <textarea type="text" id="title1"  name="title1" class="form-control"  aria-describedby="passwordHelpBlock">{{em}}</textarea>
                  <small>Enter Test Mail Sample here.</small>
                  <div>
                    <div style="margin-top: 20px; margin-left:4px;"class = 'row'>
                      <select class="form-control col-md-3"  id="semodel" name="semodel" >
                      <option value = '101' onchange="preee()">Select Model</option>
                      {%for i in mo%}
                      <option class="bz" value = '{{i}}'>{{i}}</option>
                      {%endfor%}
                    </select>
                 
                    
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  
                  <button  class="btn btn-dark col-md-6" type="submit" data-toggle="collapse" data-target="#demo2">Classify Test Data</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="display: none;" id="cv1" href = '/download'><button type="button" class="btn btn-outline-dark" >Download CSV</button></a>
                <h1 style="display: block;" class="col-md-2" id="cv3"></h1>
              </form>
                <small id="err1"  style="display: none;color:crimson">
                  *Please select Model 
                </small>
                
              </div>&nbsp;&nbsp;

              <div id="cv" style="display: none;">
                                  <table class="table table-   col-md-12">
                                    <thead>
                    <tr>
                      <th scope="col">S.I</th>
                      <th scope="col">Email</th>
                      <th scope="col">Category</th> 
                    </tr>
                  </thead>
                  <tbody>
                    {%for i in range(0,l)%}
                    <tr>
                      <th scope="row">{{i+1}}</th>
                      <td class="col-md-3" data-toggle="modal" data-target="#exampleModalLong"onclick="email('a{{i}}')"  style="
                      white-space: nowrap; 
                      max-width: 200px; 
                      overflow: hidden;
                      text-overflow: ellipsis; "
                      onMouseOver="this.style.background='lightgrey'"
                      onMouseOut="this.style.background='white'">{{tabs[i][0]}} </td>
                      <td id = 'a{{i}}s' >{{tabs[i][2]}}</td>
                      <td style="display: none;" id = 'a{{i}}'>{{tabs[i][0]}}</td>
                      
                      </tr>
                      {%endfor%}
                  </tbody>
                </table></div>

                  </div>
                  <input type="text" value="{{js}}" id="opp" style="display: none;">
                  <input type="text" value="{{k}}" id="op" style="display: none;">

                  
                  </div>
        </div>
      </div>
      <!-- <div id="id01" class="modal">
  
  
        <div class="modal-content animate">
          <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
         
          <h1 id="pu"></h1>
          <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
        
        </div>
        
        
        </div> -->



<!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"  id="lklk"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span  aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="pu"class="modal-body">
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>



    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
      <script src="static/mn.js"></script>
<script>
  var modal = document.getElementById('id01');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
</script>
    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
    <!-- <script>
      
      $('#train').on('closed.bs.alert', function () {
        // do something...
        $('.alert').alert()
      })
    </script> -->
   
  </body>
</html>



